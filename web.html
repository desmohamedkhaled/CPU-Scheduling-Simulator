<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPU Scheduling Simulator</title>
    <link rel="stylesheet" href="web.css">
</head>
<body>
    <div class="container">
        <div class="app-container" id="appPage">
            <div class="app-header">
                <h1>CPU Scheduling Simulator</h1>
                <div class="header-controls">
                    <button class="theme-toggle-btn" id="themeToggle" title="Toggle Dark/Light Mode">
                        <span class="theme-icon">ðŸŒ™</span>
                    </button>
                    <button class="logout-btn" id="logoutBtn">Logout</button>
                </div>
            </div>

            <!-- Algorithm Selection -->
            <div class="algorithm-selection">
                <h2>Select Scheduling Algorithm</h2>
                <div class="algorithms">
                    <div class="algorithm-card" data-algorithm="FCFS">
                        <h3>FCFS</h3>
                        <p>First Come First Serve</p>
                    </div>
                    <div class="algorithm-card" data-algorithm="SJF">
                        <h3>SJF</h3>
                        <p>Shortest Job First</p>
                    </div>
                    <div class="algorithm-card" data-algorithm="SRTF">
                        <h3>SRTF</h3>
                        <p>Shortest Remaining Time First</p>
                    </div>
                    <div class="algorithm-card" data-algorithm="Priority">
                        <h3>Priority</h3>
                        <p>Priority Scheduling</p>
                    </div>
                    <div class="algorithm-card" data-algorithm="RoundRobin">
                        <h3>Round Robin</h3>
                        <p>Time Quantum Based</p>
                    </div>
                </div>
            </div>

            <!-- Process Input -->
            <div class="process-input">
                <div class="process-header">
                    <h2>Process Details</h2>
                    <div class="preset-controls">
                        <label for="presetSelect">Load Preset:</label>
                        <select id="presetSelect" class="preset-select">
                            <option value="">-- Select Preset --</option>
                            <option value="basic">Basic (3 processes)</option>
                            <option value="heavy">Heavy Load (5 processes)</option>
                            <option value="mixed">Mixed Arrival (4 processes)</option>
                            <option value="priority">Priority Test (4 processes)</option>
                        </select>
                    </div>
                </div>
                
                <div class="time-quantum" id="timeQuantumSection">
                    <label for="timeQuantum">Time Quantum:</label>
                    <input type="number" id="timeQuantum" min="1" value="2">
                </div>

                <table class="process-table" id="processTable">
                    <thead>
                        <tr>
                            <th>Process ID</th>
                            <th>Arrival Time</th>
                            <th>Burst Time</th>
                            <th id="priorityHeader">Priority</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="processTableBody">
                        <tr>
                            <td>P1</td>
                            <td><input type="number" class="arrival-time" min="0" value="0"></td>
                            <td><input type="number" class="burst-time" min="1" value="5"></td>
                            <td class="priority-cell"><input type="number" class="priority" min="1" value="1"></td>
                            <td><button class="delete-btn action-btn" onclick="deleteProcess(this)">Delete</button></td>
                        </tr>
                        <tr>
                            <td>P2</td>
                            <td><input type="number" class="arrival-time" min="0" value="1"></td>
                            <td><input type="number" class="burst-time" min="1" value="3"></td>
                            <td class="priority-cell"><input type="number" class="priority" min="1" value="2"></td>
                            <td><button class="delete-btn action-btn" onclick="deleteProcess(this)">Delete</button></td>
                        </tr>
                    </tbody>
                </table>

                <div class="process-actions">
                    <button class="add-btn action-btn" onclick="addProcess()">Add Process</button>
                    <button class="calculate-btn action-btn" onclick="calculateSchedule()">Calculate Schedule</button>
                    <button class="step-btn action-btn" id="stepBtn" onclick="toggleStepMode()">
                        <span id="stepBtnText">Enable Step Mode</span>
                    </button>
                </div>
            </div>

            <!-- Results Section -->
            <div class="results" id="resultsSection">
                <h2>Results</h2>
                
                <!-- Step-by-step Controls -->
                <div class="step-controls" id="stepControls" style="display: none;">
                    <button class="step-btn action-btn" id="prevStepBtn" onclick="previousStep()">â¬… Previous</button>
                    <span class="step-info" id="stepInfo">Step 1 of 1</span>
                    <button class="step-btn action-btn" id="nextStepBtn" onclick="nextStep()">Next âž¡</button>
                </div>
                
                <div class="gantt-chart">
                    <h3>Gantt Chart</h3>
                    <div class="gantt-container" id="ganttContainer">
                        <!-- Gantt chart will be generated here -->
                    </div>
                    <div class="gantt-timeline" id="ganttTimeline">
                        <!-- Timeline will be generated here -->
                    </div>
                </div>

                <table class="results-table" id="resultsTable">
                    <thead>
                        <tr>
                            <th>Process</th>
                            <th>Arrival Time</th>
                            <th>Burst Time</th>
                            <th id="resultsPriorityHeader">Priority</th>
                            <th>Completion Time</th>
                            <th>Turnaround Time</th>
                            <th>Waiting Time</th>
                        </tr>
                    </thead>
                    <tbody id="resultsTableBody">
                        <!-- Results will be generated here -->
                    </tbody>
                </table>

                <div class="avg-results">
                    <div class="avg-box">
                        <h3>Average Turnaround Time</h3>
                        <div class="avg-value" id="avgTurnaround">0.00</div>
                    </div>
                    <div class="avg-box">
                        <h3>Average Waiting Time</h3>
                        <div class="avg-value" id="avgWaiting">0.00</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>